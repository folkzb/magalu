block-storage.openapi:
  computed-variables:
    - POST /v1/backups:
        - '202':
            computed:
              - id
            non-computed:
              - description
              - name
              - type
              - volume
    - POST /v1/snapshots:
        - '202':
            computed:
              - id
            non-computed:
              - description
              - name
              - volume
    - POST /v1/snapshots/{snapshot_id}:
        - '202':
            computed:
              - id
            non-computed:
              - name
              - snapshot_id
    - POST /v1/volumes:
        - '202':
            computed:
              - id
            non-computed:
              - backup
              - name
              - size
              - type
  missing-crud:
    - volume-types:
        - post
        - delete
  unused-components:
    - '#/components/schemas/ValidationError'
  xof-single-item:
    - components.schemas.CreateBackup.type
dbaas.openapi:
  computed-variables:
    - POST /v1/instances:
        - '202':
            computed:
              - id
            non-computed:
              - backup_retention_days
              - backup_start_at
              - datastore_id
              - engine_id
              - exchange
              - flavor_id
              - name
              - parameters
              - password
              - size
              - type
              - user
    - POST /v1/instances/{instance_id}/resize:
        - '200':
            computed:
              - addresses
              - backup_retention_days
              - backup_start_at
              - created_at
              - datastore_id
              - engine_id
              - finished_at
              - generation
              - id
              - name
              - parameters
              - replicas
              - started_at
              - status
              - updated_at
            non-computed:
              - exchange
              - flavor_id
              - instance_id
              - size
              - type
    - POST /v1/instances/{instance_id}/start:
        - '200':
            computed:
              - addresses
              - backup_retention_days
              - backup_start_at
              - created_at
              - datastore_id
              - engine_id
              - finished_at
              - flavor_id
              - generation
              - id
              - name
              - parameters
              - replicas
              - size
              - started_at
              - status
              - type
              - updated_at
            non-computed:
              - exchange
              - instance_id
    - POST /v1/instances/{instance_id}/stop:
        - '200':
            computed:
              - addresses
              - backup_retention_days
              - backup_start_at
              - created_at
              - datastore_id
              - engine_id
              - finished_at
              - flavor_id
              - generation
              - id
              - name
              - parameters
              - replicas
              - size
              - started_at
              - status
              - type
              - updated_at
            non-computed:
              - exchange
              - instance_id
    - POST /v1/instances/{instance_id}/backups:
        - '202':
            computed:
              - id
            non-computed:
              - exchange
              - instance_id
              - mode
    - POST /v1/instances/{instance_id}/restores:
        - '202':
            computed:
              - id
            non-computed:
              - backup_id
              - exchange
              - instance_id
    - POST /v1/internal/instances/{instance_id}/upgrades:
        - '202':
            computed:
              - id
            non-computed:
              - exchange
              - instance_id
    - POST /v1/replicas:
        - '202':
            computed:
              - id
            non-computed:
              - exchange
              - flavor_id
              - name
              - source_id
    - POST /v1/replicas/{replica_id}/resize:
        - '200':
            computed:
              - addresses
              - created_at
              - datastore_id
              - engine_id
              - finished_at
              - generation
              - id
              - name
              - parameters
              - size
              - source_id
              - started_at
              - status
              - type
              - updated_at
            non-computed:
              - exchange
              - flavor_id
              - replica_id
    - POST /v1/replicas/{replica_id}/start:
        - '200':
            computed:
              - addresses
              - created_at
              - datastore_id
              - engine_id
              - finished_at
              - flavor_id
              - generation
              - id
              - name
              - parameters
              - size
              - source_id
              - started_at
              - status
              - type
              - updated_at
            non-computed:
              - exchange
              - replica_id
    - POST /v1/replicas/{replica_id}/stop:
        - '200':
            computed:
              - addresses
              - created_at
              - datastore_id
              - engine_id
              - finished_at
              - flavor_id
              - generation
              - id
              - name
              - parameters
              - size
              - source_id
              - started_at
              - status
              - type
              - updated_at
            non-computed:
              - exchange
              - replica_id
  missing-crud:
    - backups:
        - post
    - engines:
        - post
        - delete
    - flavors:
        - post
        - delete
  typeless-schemas:
    - paths./v1/healthcheck.get.responses.200.content.application/json.schema
    - paths./v1/backups/{backup_id}.delete.responses.202.content.application/json.schema
    - paths./v1/instances/{instance_id}.delete.responses.202.content.application/json.schema
    - paths./v1/instances/{instance_id}/backups/{backup_id}.delete.responses.202.content.application/json.schema
  unused-components:
    - '#/components/schemas/ValidationError'
  xof-single-item:
    - paths./v1/engines.get.parameters.status.schema
    - paths./v1/datastores.get.parameters.status.schema
    - paths./v1/flavors.get.parameters.status.schema
    - paths./v1/instances.get.parameters._expand.schema
    - paths./v1/instances/{instance_id}.get.parameters._expand.schema
    - components.schemas.InstanceVolumeRequest.type
kubernetes.openapi:
  computed-variables:
    - POST /v0/clusters:
        - '201':
            computed:
              - id
              - message
              - state
            non-computed:
              - description
              - enabled_bastion
              - enabled_server_group
              - name
              - node_pools
              - version
              - zone
    - POST /v0/clusters/{cluster_id}/node_pools:
        - '201':
            computed:
              - created_at
              - disk_size
              - disk_type
              - id
              - messages
              - node_image
              - ram
              - securityGroups
              - size
              - state
              - updated_at
              - vcpu
              - zone
            non-computed:
              - cluster_id
              - flavor
              - max_replicas
              - min_replicas
              - name
              - replicas
              - tags
              - taints
  missing-crud:
    - info:
        - post
        - delete
    - flavor:
        - post
        - delete
    - version:
        - post
        - delete
  non-json-responses:
    GET /v0/clusters/{cluster_id}/kubeconfig:
      - '200': application/yaml
  non-snakecase-values:
    GET /v0/clusters/{cluster_id}:
      responses:
        application/json:
          - .controlplane.securityGroups
    GET /v0/clusters/{cluster_id}/kubeconfig:
      responses:
        application/yaml:
          - .fileName
    GET /v0/clusters/{cluster_id}/node_pools/{node_pool_id}:
      responses:
        application/json:
          - .securityGroups
    PATCH /v0/clusters/{cluster_id}/node_pools/{node_pool_id}:
      responses:
        application/json:
          - .securityGroups
    POST /v0/clusters/{cluster_id}/node_pools:
      responses:
        application/json:
          - .securityGroups
  uneven-resources:
    info:
      GET:
        - /v0/info/flavors
        - /v0/info/versions
network.openapi:
  computed-variables:
    - POST /v0/ports:
        - '200':
            computed:
              - id
            non-computed:
              - has_pip
              - has_sg
              - name
              - security_groups_id
              - subnets
              - x-zone
    - POST /v0/vpcs/{vpc_id}/ports:
        - '200':
            computed:
              - id
            non-computed:
              - has_pip
              - has_sg
              - name
              - security_groups_id
              - subnets
              - vpc_id
              - x-zone
    - POST /v0/vpcs/{vpc_id}/public_ips:
        - '200':
            computed:
              - id
            non-computed:
              - description
              - validate_quota
              - vpc_id
              - wait
              - wait_timeout
    - POST /v0/vpcs/{vpc_id}/security_groups:
        - '200':
            computed:
              - id
            non-computed:
              - description
              - name
              - vpc_id
              - wait
              - wait_timeout
    - POST /v0/vpcs/default:
        - '200':
            computed:
              - id
    - POST /v0/vpcs:
        - '200':
            computed:
              - id
            non-computed:
              - description
              - name
    - POST /v0/xaas/vpcs/{vpc_id}/ports:
        - '200':
            computed:
              - id
            non-computed:
              - has_pip
              - has_sg
              - name
              - project_type
              - security_groups_id
              - subnets
              - vpc_id
              - x-zone
    - POST /v0/xaas/vpcs/{vpc_id}/public_ips:
        - '200':
            computed:
              - id
            non-computed:
              - description
              - project_type
              - validate_quota
              - vpc_id
              - wait
              - wait_timeout
    - POST /v0/security_groups/{security_group_id}/rules:
        - '200':
            computed:
              - id
            non-computed:
              - direction
              - ethertype
              - port_range_max
              - port_range_min
              - protocol
              - remote_group_id
              - remote_ip_prefix
              - security_group_id
              - validate_quota
              - wait
              - wait_timeout
    - POST /v0/security_groups/default:
        - '201':
            computed:
              - id
    - POST /v0/security_groups:
        - '200':
            computed:
              - id
            non-computed:
              - description
              - name
              - validate_quota
              - wait
              - wait_timeout
    - POST /v0/xaas/security_groups/{security_group_id}/rules:
        - '201':
            computed:
              - id
            non-computed:
              - direction
              - ethertype
              - port_range_max
              - port_range_min
              - project_type
              - protocol
              - remote_group_id
              - remote_ip_prefix
              - security_group_id
              - wait
              - wait_timeout
    - POST /v0/xaas/security_groups/default:
        - '201':
            computed:
              - id
            non-computed:
              - project_type
    - POST /v0/xaas/security_groups:
        - '201':
            computed:
              - id
            non-computed:
              - description
              - name
              - project_type
    - POST /v0/xaas/vpcs/{vpc_id}/security_groups:
        - '201':
            computed:
              - id
            non-computed:
              - description
              - name
              - project_type
              - vpc_id
              - wait
              - wait_timeout
    - POST /v0/xaas/vpcs/{vpc_id}/subnetpools:
        - '201':
            computed:
              - external_id
              - id
              - tenant_id
            non-computed:
              - address_scope_id
              - default_prefix_length
              - description
              - max_prefix_length
              - min_prefix_length
              - name
              - pool_prefix
              - project_type
              - vpc_id
    - POST /v0/vpcs/{vpc_id}/subnets:
        - '201':
            computed:
              - id
            non-computed:
              - cidr_block
              - description
              - dns_nameservers
              - ip_version
              - name
              - vpc_id
              - x-zone
    - POST /v0/xaas/vpcs:
        - '200':
            computed:
              - id
            non-computed:
              - cidr
              - description
              - name
              - project_type
              - subnetpool_id
    - POST /v0/xaas/vpcs/{vpc_id}/add_interface:
        - '200':
            computed:
              - created_at
              - id
              - ip_address
              - router_id
            non-computed:
              - nic_vpc_id
              - project_type
              - vpc_id
  missing-crud:
    - xaas_network:
        - post
        - delete
    - rule:
        - post
    - xaas_subnets:
        - post
        - delete
  non-snakecase-values:
    GET /v0/xaas/security_groups:
      parameters:
        - x-zone
    GET /v0/xaas/security_groups/{security_group_id}:
      parameters:
        - x-zone
    GET /v0/xaas/vpcs/{vpc_id}/security_groups:
      parameters:
        - x-zone
    PATCH /v0/xaas/rules/{rule_id}:
      parameters:
        - x-request-id
    PATCH /v0/xaas/security_groups/{security_group_id}:
      parameters:
        - x-request-id
    POST /v0/ports:
      parameters:
        - x-zone
    POST /v0/vpcs/{vpc_id}/ports:
      parameters:
        - x-zone
    POST /v0/vpcs/{vpc_id}/subnets:
      parameters:
        - x-zone
    POST /v0/xaas/vpcs/{vpc_id}/ports:
      parameters:
        - x-zone
  typeless-schemas:
    - paths./v0/ports/{port_id}/attach/{security_group_id}.post.responses.200.content.application/json.schema
    - paths./v0/ports/{port_id}/detach/{security_group_id}.post.responses.200.content.application/json.schema
    - paths./v0/xaas/ports/{port_id}/attach/{security_group_id}.post.responses.200.content.application/json.schema
    - paths./v0/xaas/ports/{port_id}/detach/{security_group_id}.post.responses.200.content.application/json.schema
    - paths./v0/public_ips/{public_ip_id}/attach/{port_id}.post.responses.200.content.application/json.schema
    - paths./v0/public_ips/{public_ip_id}/detach/{port_id}.post.responses.200.content.application/json.schema
    - paths./v0/xaas/public_ips/{public_ip_id}/attach/{port_id}.post.responses.200.content.application/json.schema
    - paths./v0/xaas/public_ips/{public_ip_id}/detach/{port_id}.post.responses.200.content.application/json.schema
    - paths./v0/xaas/vpcs/{vpc_id}/add_route.post.responses.201.content.application/json.schema
  uneven-resources:
    port:
      DELETE:
        - /v0/ports/{port_id}
        - /v0/ports/all
    public_ip:
      POST:
        - /v0/public_ips/{public_ip_id}/attach/{port_id}
        - /v0/public_ips/{public_ip_id}/detach/{port_id}
    security_group:
      DELETE:
        - /v0/security_groups/{security_group_id}
        - /v0/security_groups_all
      POST:
        expected_prefix: /v0/security_groups
        uneven:
          - /v0/security_groups/default
    subnets:
      GET:
        - /v0/vpcs/{vpc_id}/subnets
        - /v0/subnets/{subnet_id}
    vpc:
      DELETE:
        - /v0/vpcs/{vpc_id}
        - /v0/vpcs/all
      GET:
        expected_prefix: /v0/vpcs
        uneven:
          - /v0/vpcs/{vpc_id}/public_ips
          - /v0/vpcs/{vpc_id}/security_groups
      POST:
        expected_prefix: /v0/vpcs
        uneven:
          - /v0/vpcs/{vpc_id}/public_ips
          - /v0/vpcs/{vpc_id}/security_groups
          - /v0/vpcs/default
    xaas_port:
      DELETE:
        - /v0/xaas/ports/all
        - /v0/xaas/ports/{port_id}
      POST:
        - /v0/xaas/vpcs/{vpc_id}/ports
        - /v0/xaas/ports/{port_id}/attach/{security_group_id}
        - /v0/xaas/ports/{port_id}/detach/{security_group_id}
    xaas_public_ip:
      GET:
        expected_prefix: /v0/xaas/public_ips
        uneven:
          - /v0/xaas/vpcs/{vpc_id}/public_ips
      POST:
        - /v0/xaas/vpcs/{vpc_id}/public_ips
        - /v0/xaas/public_ips/{public_ip_id}/attach/{port_id}
        - /v0/xaas/public_ips/{public_ip_id}/detach/{port_id}
    xaas_rule:
      GET:
        - /v0/xaas/security_groups/{security_group_id}/rules
        - /v0/xaas/rules/{rule_id}
    xaas_security_group:
      DELETE:
        - /v0/xaas/security_groups/{security_group_id}
        - /v0/xaas/security_groups_all
      GET:
        expected_prefix: /v0/xaas/security_groups
        uneven:
          - /v0/xaas/vpcs/{vpc_id}/security_groups
      POST:
        expected_prefix: /v0/xaas/security_groups
        uneven:
          - /v0/xaas/vpcs/{vpc_id}/security_groups
    xaas_subnetpools:
      GET:
        expected_prefix: /v0/xaas/subnetpools
        uneven:
          - /v0/xaas/vpcs/{vpc_id}/subnetpools
    xaas_vpc:
      DELETE:
        - /v0/xaas/vpcs/all
        - /v0/xaas/vpcs/{vpc_id}/delete_interface/{interface_id}
  unused-components:
    - '#/components/schemas/ValidationError'
  xof-single-item:
    - paths./v0/xaas/vpcs/{vpc_id}/networks.get.parameters.project_type.schema
    - paths./v0/xaas/ports/all.delete.parameters.project_type.schema
    - paths./v0/xaas/vpcs/{vpc_id}/ports.post.parameters.project_type.schema
    - paths./v0/xaas/ports/{port_id}/attach/{security_group_id}.post.parameters.project_type.schema
    - paths./v0/xaas/ports/{port_id}/detach/{security_group_id}.post.parameters.project_type.schema
    - paths./v0/xaas/ports/{port_id}.get.parameters.project_type.schema
    - paths./v0/xaas/ports/{port_id}.delete.parameters.project_type.schema
    - paths./v0/xaas/vpcs/{vpc_id}/public_ips.post.parameters.project_type.schema
    - paths./v0/xaas/vpcs/{vpc_id}/public_ips.get.parameters.project_type.schema
    - paths./v0/xaas/public_ips.get.parameters.project_type.schema
    - paths./v0/xaas/public_ips/{public_ip_id}.get.parameters.project_type.schema
    - paths./v0/xaas/public_ips/{public_ip_id}.delete.parameters.project_type.schema
    - paths./v0/xaas/public_ips/{public_ip_id}/attach/{port_id}.post.parameters.project_type.schema
    - paths./v0/xaas/public_ips/{public_ip_id}/detach/{port_id}.post.parameters.project_type.schema
    - paths./v0/usage.get.parameters.quota_slug.schema
    - paths./v0/xaas/security_groups/{security_group_id}/rules.post.parameters.project_type.schema
    - paths./v0/xaas/security_groups/{security_group_id}/rules.get.parameters.project_type.schema
    - paths./v0/xaas/rules/{rule_id}.get.parameters.project_type.schema
    - paths./v0/xaas/rules/{rule_id}.delete.parameters.project_type.schema
    - paths./v0/xaas/rules/{rule_id}.patch.parameters.project_type.schema
    - paths./v0/xaas/security_groups.post.parameters.project_type.schema
    - paths./v0/xaas/security_groups.get.parameters.project_type.schema
    - paths./v0/xaas/vpcs/{vpc_id}/security_groups.post.parameters.project_type.schema
    - paths./v0/xaas/vpcs/{vpc_id}/security_groups.get.parameters.project_type.schema
    - paths./v0/xaas/security_groups/{security_group_id}.get.parameters.project_type.schema
    - paths./v0/xaas/security_groups/{security_group_id}.delete.parameters.project_type.schema
    - paths./v0/xaas/security_groups/{security_group_id}.patch.parameters.project_type.schema
    - paths./v0/xaas/security_groups_all.delete.parameters.project_type.schema
    - paths./v0/xaas/vpcs/{vpc_id}/subnetpools.post.parameters.project_type.schema
    - paths./v0/xaas/vpcs/{vpc_id}/subnetpools.get.parameters.project_type.schema
    - paths./v0/xaas/subnetpools.get.parameters.project_type.schema
    - paths./v0/xaas/subnetpools/{subnetpool_id}.get.parameters.project_type.schema
    - paths./v0/xaas/subnetpools/{subnetpool_id}.delete.parameters.project_type.schema
    - paths./v0/xaas/vpcs/{vpc_id}/subnets.get.parameters.project_type.schema
    - paths./v0/xaas/vpcs.post.parameters.project_type.schema
    - paths./v0/xaas/vpcs.get.parameters.project_type.schema
    - paths./v0/xaas/vpcs/all.delete.parameters.project_type.schema
    - paths./v0/xaas/vpcs/{vpc_id}/add_route.post.parameters.project_type.schema
    - paths./v0/xaas/vpcs/{vpc_id}/delete_route.post.parameters.project_type.schema
    - paths./v0/xaas/vpcs/{vpc_id}/add_interface.post.parameters.project_type.schema
    - paths./v0/xaas/vpcs/{vpc_id}/delete_interface/{interface_id}.delete.parameters.project_type.schema
    - paths./v0/xaas/vpcs/{vpc_id}/interfaces.get.parameters.project_type.schema
virtual-machine-xaas.openapi:
  computed-variables:
    - POST /v1/internal/images:
        - '201':
            computed:
              - id
            non-computed:
              - end_life_at
              - end_standard_support_at
              - image_id
              - image_url
              - internal
              - min_disk
              - min_ram
              - min_vcpu
              - name
              - platform
              - release_at
              - sku
              - status
              - version
    - POST /v1/internal/instance_types:
        - '201':
            computed:
              - status
            non-computed:
              - disk
              - gpu
              - gpu_model
              - id
              - internal
              - name
              - ram
              - sku
              - vcpus
    - POST /v1/xaas/instances:
        - '201':
            computed:
              - id
            non-computed:
              - associate_public_ip
              - availability_zone
              - image
              - machine_type
              - name
              - nic
              - project_type
              - ssh_key_name
              - user_data
              - vpc
    - POST /v1/xaas/snapshots:
        - '202':
            computed:
              - id
            non-computed:
              - name
              - project_type
              - virtual_machine
  missing-crud:
    - healthchecks:
        - post
        - delete
    - backups:
        - get
        - post
        - delete
    - diagnostics:
        - post
        - delete
    - keypairs:
        - get
    - machine-types:
        - post
        - delete
    - snapshots:
        - get
        - post
        - delete
    - xaas images:
        - post
        - delete
    - xaas machine-types:
        - post
        - delete
  uneven-resources:
    backups:
      PATCH:
        - /v1/internal/backups/urp/{external_backup_id}
        - /v1/internal/backups/{id}
    images:
      PATCH:
        expected_prefix: /v1/internal/images/{id}
        uneven:
          - /v1/internal/images/urp/{urp_id}
    instances:
      GET:
        - /v1/instances/internal/urp/{id}
        - /v1/instances/internal/{id}
        - /v1/internal/instances/urp/{id}
        - /v1/internal/instances/{id}
      PATCH:
        - /v1/internal/instances/urp/{urp_id}
        - /v1/internal/instances/{id}
  unused-components:
    - '#/components/schemas/ValidationError'
  xof-single-item:
    - paths./v1/instances/internal/urp/{id}.get.parameters.project_type.schema
    - paths./v1/instances/internal/{id}.get.parameters.project_type.schema
    - paths./v1/internal/instances/diagnostics.get.parameters.project_type.schema
    - paths./v1/internal/instances/urp/{id}.get.parameters.project_type.schema
    - paths./v1/internal/instances/{id}.delete.parameters.project_type.schema
    - paths./v1/internal/instances/{id}.get.parameters.project_type.schema
    - paths./v1/internal/instances/{id}.post.parameters.project_type.schema
    - paths./v1/internal/instances/{id}/ports/{port_id}.delete.parameters.project_type.schema
    - components.schemas.ImageRequestV1.status
virtual-machine.openapi:
  computed-variables:
    - POST /v1/backups:
        - '202':
            computed:
              - id
            non-computed:
              - backup_type
              - name
              - rotation
              - virtual_machine
    - POST /v1/snapshots:
        - '202':
            computed:
              - id
            non-computed:
              - name
              - virtual_machine
  missing-crud:
    - images:
        - post
        - delete
    - machine-types:
        - post
        - delete
  operation-missing-security:
    - PUT /v1/instances/{id}/attach
    - PUT /v1/instances/{id}/detach
  uneven-resources:
    instances:
      PUT:
        - /v1/instances/{id}/attach
        - /v1/instances/{id}/detach
  unused-components:
    - '#/components/schemas/ValidationError'
  xof-single-item:
    - paths./v1/instances/{id}/attach.put.parameters.project_type.schema
    - paths./v1/instances/{id}/detach.put.parameters.project_type.schema
